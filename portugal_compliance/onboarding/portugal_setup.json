{
  "creation": "2025-05-31 23:50:00.000000",
  "creator": "Administrator",
  "docstatus": 0,
  "doctype": "Onboarding",
  "documentation_url": "https://docs.novadx.eu/portugal-compliance",
  "idx": 0,
  "introduction": "üáµüáπ **Bem-vindo ao Portugal Compliance!**\n\nEste assistente ir√° configurar automaticamente o seu ERPNext para compliance fiscal portugu√™s, incluindo:\n\n‚úÖ **ATCUD** - C√≥digos √∫nicos de documento\n‚úÖ **Naming Series** - S√©ries portuguesas nativas\n‚úÖ **Comunica√ß√£o AT** - Webservices Autoridade Tribut√°ria\n‚úÖ **SAF-T PT** - Arquivo fiscal eletr√≥nico\n‚úÖ **QR Codes** - Conforme legisla√ß√£o\n\nO processo demora aproximadamente **5-10 minutos** e √© totalmente autom√°tico.",
  "is_complete": 0,
  "modified": "2025-05-31 23:50:00.000000",
  "modified_by": "Administrator",
  "name": "Portugal Compliance Onboarding",
  "owner": "Administrator",
  "steps": [
    {
      "action": "Create Entry",
      "action_label": "Configurar Empresa",
      "creation_doctype": "Company",
      "description": "Configure a sua empresa portuguesa com os dados necess√°rios para compliance fiscal.",
      "intro_video_url": "",
      "is_complete": 0,
      "is_mandatory": 1,
      "is_skipped": 0,
      "path": "/app/company",
      "reference_document": "",
      "show_form_tour": 1,
      "show_full_form": 1,
      "step": 1,
      "title": "üè¢ Configurar Empresa Portuguesa",
      "validate_action": 1,
      "validation_logic": "{\n  \"doctype\": \"Company\",\n  \"filters\": {\n    \"country\": \"Portugal\",\n    \"portugal_compliance_enabled\": 1\n  },\n  \"minimum_count\": 1\n}",
      "field_data": [
        {
          "fieldname": "company_name",
          "label": "Nome da Empresa",
          "fieldtype": "Data",
          "reqd": 1,
          "description": "Nome oficial da empresa"
        },
        {
          "fieldname": "abbr",
          "label": "Abreviatura",
          "fieldtype": "Data",
          "reqd": 1,
          "description": "Abreviatura da empresa (2-4 caracteres)"
        },
        {
          "fieldname": "country",
          "label": "Pa√≠s",
          "fieldtype": "Link",
          "options": "Country",
          "default": "Portugal",
          "reqd": 1
        },
        {
          "fieldname": "tax_id",
          "label": "NIF",
          "fieldtype": "Data",
          "reqd": 1,
          "description": "N√∫mero de Identifica√ß√£o Fiscal da empresa"
        },
        {
          "fieldname": "portugal_compliance_enabled",
          "label": "Ativar Portugal Compliance",
          "fieldtype": "Check",
          "default": 1,
          "description": "Ativar compliance fiscal portugu√™s"
        }
      ]
    },
    {
      "action": "Show Form Tour",
      "action_label": "Configurar Credenciais AT",
      "creation_doctype": "Company",
      "description": "Configure as credenciais para comunica√ß√£o com a Autoridade Tribut√°ria (AT). Estas credenciais s√£o necess√°rias para comunicar s√©ries e obter c√≥digos ATCUD.",
      "intro_video_url": "",
      "is_complete": 0,
      "is_mandatory": 0,
      "is_skipped": 0,
      "path": "/app/company",
      "reference_document": "",
      "show_form_tour": 1,
      "show_full_form": 0,
      "step": 2,
      "title": "üîê Configurar Credenciais AT",
      "validate_action": 0,
      "validation_logic": "",
      "form_tour": [
        {
          "fieldname": "at_username",
          "title": "Username AT",
          "description": "Introduza o NIF/sequencial para acesso aos webservices da AT (ex: 123456789/1)"
        },
        {
          "fieldname": "at_password",
          "title": "Password AT",
          "description": "Password fornecida pela AT para acesso aos webservices"
        },
        {
          "fieldname": "at_environment",
          "title": "Ambiente AT",
          "description": "Selecione 'test' para testes ou 'production' para produ√ß√£o"
        }
      ]
    },
    {
      "action": "Server Action",
      "action_label": "Configurar Naming Series",
      "creation_doctype": "",
      "description": "Configure automaticamente as naming series portuguesas para todos os tipos de documentos. Isto ir√° adicionar s√©ries no formato XX-YYYY-EMPRESA.#### aos DocTypes do ERPNext.",
      "intro_video_url": "",
      "is_complete": 0,
      "is_mandatory": 1,
      "is_skipped": 0,
      "path": "",
      "reference_document": "",
      "show_form_tour": 0,
      "show_full_form": 0,
      "step": 3,
      "title": "üìã Configurar Naming Series Nativas",
      "validate_action": 1,
      "validation_logic": "{\n  \"server_action\": \"portugal_compliance.utils.naming_series_customizer.setup_all_portuguese_naming_series\",\n  \"expected_result\": {\n    \"success\": true,\n    \"updated_doctypes\": {\n      \"$gte\": 5\n    }\n  }\n}",
      "server_action": "portugal_compliance.utils.naming_series_customizer.setup_all_portuguese_naming_series"
    },
    {
      "action": "Create Entry",
      "action_label": "Testar Comunica√ß√£o AT",
      "creation_doctype": "",
      "description": "Teste a comunica√ß√£o com os webservices da Autoridade Tribut√°ria para verificar se as credenciais est√£o corretas.",
      "intro_video_url": "",
      "is_complete": 0,
      "is_mandatory": 0,
      "is_skipped": 0,
      "path": "",
      "reference_document": "",
      "show_form_tour": 0,
      "show_full_form": 0,
      "step": 4,
      "title": "üîó Testar Comunica√ß√£o AT",
      "validate_action": 0,
      "validation_logic": "",
      "server_action": "portugal_compliance.utils.at_webservice.test_connection",
      "action_description": "Clique para testar a liga√ß√£o aos webservices da AT"
    },
    {
      "action": "Server Action",
      "action_label": "Comunicar S√©ries √† AT",
      "creation_doctype": "",
      "description": "Comunique as s√©ries principais √† Autoridade Tribut√°ria para obter os c√≥digos de valida√ß√£o ATCUD. Este passo √© obrigat√≥rio para emiss√£o de documentos fiscais.",
      "intro_video_url": "",
      "is_complete": 0,
      "is_mandatory": 1,
      "is_skipped": 0,
      "path": "",
      "reference_document": "",
      "show_form_tour": 0,
      "show_full_form": 0,
      "step": 5,
      "title": "üì° Comunicar S√©ries √† AT",
      "validate_action": 1,
      "validation_logic": "{\n  \"server_action\": \"portugal_compliance.onboarding.portugal_setup.communicate_default_series\",\n  \"expected_result\": {\n    \"success\": true,\n    \"communicated_series\": {\n      \"$gte\": 3\n    }\n  }\n}",
      "server_action": "portugal_compliance.onboarding.portugal_setup.communicate_default_series",
      "series_to_communicate": ["FT", "NC", "RC"]
    },
    {
      "action": "Create Entry",
      "action_label": "Criar Fatura de Teste",
      "creation_doctype": "Sales Invoice",
      "description": "Crie uma fatura de teste para verificar se o ATCUD √© gerado automaticamente e se todos os campos de compliance est√£o funcionando.",
      "intro_video_url": "",
      "is_complete": 0,
      "is_mandatory": 0,
      "is_skipped": 0,
      "path": "/app/sales-invoice/new",
      "reference_document": "",
      "show_form_tour": 1,
      "show_full_form": 1,
      "step": 6,
      "title": "üß™ Criar Fatura de Teste",
      "validate_action": 1,
      "validation_logic": "{\n  \"doctype\": \"Sales Invoice\",\n  \"filters\": {\n    \"atcud_code\": [\"not like\", \"\"]\n  },\n  \"minimum_count\": 1\n}",
      "field_data": [
        {
          "fieldname": "customer",
          "label": "Cliente",
          "fieldtype": "Link",
          "options": "Customer",
          "reqd": 1,
          "description": "Selecione um cliente para a fatura de teste"
        },
        {
          "fieldname": "naming_series",
          "label": "Naming Series",
          "fieldtype": "Select",
          "reqd": 1,
          "description": "Selecione uma naming series portuguesa (formato XX-YYYY-EMPRESA.####)"
        },
        {
          "fieldname": "items",
          "label": "Itens",
          "fieldtype": "Table",
          "reqd": 1,
          "description": "Adicione pelo menos um item √† fatura"
        }
      ],
      "form_tour": [
        {
          "fieldname": "naming_series",
          "title": "Naming Series Portuguesa",
          "description": "Selecione uma naming series no formato portugu√™s. O ATCUD ser√° gerado automaticamente."
        },
        {
          "fieldname": "atcud_code",
          "title": "C√≥digo ATCUD",
          "description": "Este campo ser√° preenchido automaticamente ap√≥s salvar o documento."
        }
      ]
    },
    {
      "action": "Show Form Tour",
      "action_label": "Configura√ß√µes Avan√ßadas",
      "creation_doctype": "Portugal Compliance Settings",
      "description": "Configure op√ß√µes avan√ßadas do Portugal Compliance, como gera√ß√£o autom√°tica de ATCUD, QR codes e endpoints da AT.",
      "intro_video_url": "",
      "is_complete": 0,
      "is_mandatory": 0,
      "is_skipped": 0,
      "path": "/app/portugal-compliance-settings",
      "reference_document": "",
      "show_form_tour": 1,
      "show_full_form": 0,
      "step": 7,
      "title": "‚öôÔ∏è Configura√ß√µes Avan√ßadas",
      "validate_action": 0,
      "validation_logic": "",
      "form_tour": [
        {
          "fieldname": "auto_generate_atcud",
          "title": "Gerar ATCUD Automaticamente",
          "description": "Ative para gerar c√≥digos ATCUD automaticamente em todos os documentos"
        },
        {
          "fieldname": "auto_generate_qr",
          "title": "Gerar QR Code Automaticamente",
          "description": "Ative para gerar QR codes automaticamente em faturas e recibos"
        },
        {
          "fieldname": "at_test_endpoint",
          "title": "Endpoint AT Teste",
          "description": "URL do webservice da AT para ambiente de teste"
        },
        {
          "fieldname": "at_production_endpoint",
          "title": "Endpoint AT Produ√ß√£o",
          "description": "URL do webservice da AT para ambiente de produ√ß√£o"
        }
      ]
    },
    {
      "action": "Show Message",
      "action_label": "Conclu√≠do",
      "creation_doctype": "",
      "description": "",
      "intro_video_url": "",
      "is_complete": 0,
      "is_mandatory": 0,
      "is_skipped": 0,
      "path": "",
      "reference_document": "",
      "show_form_tour": 0,
      "show_full_form": 0,
      "step": 8,
      "title": "üéâ Portugal Compliance Configurado!",
      "validate_action": 0,
      "validation_logic": "",
      "message": "**Parab√©ns!** O Portugal Compliance foi configurado com sucesso.\n\n## ‚úÖ O que foi configurado:\n\n- **Empresa portuguesa** com compliance ativo\n- **Naming series nativas** no formato portugu√™s\n- **Credenciais AT** para comunica√ß√£o\n- **S√©ries comunicadas** √† Autoridade Tribut√°ria\n- **ATCUD autom√°tico** em documentos fiscais\n- **Templates de impostos** portugueses\n- **Print formats** com compliance\n\n## üöÄ Pr√≥ximos passos:\n\n1. **Criar clientes** com NIFs portugueses\n2. **Emitir documentos** fiscais (faturas, recibos)\n3. **Verificar ATCUD** gerado automaticamente\n4. **Configurar SAF-T PT** para arquivo fiscal\n5. **Treinar utilizadores** nas novas funcionalidades\n\n## üìö Recursos √∫teis:\n\n- **Documenta√ß√£o**: [docs.novadx.eu/portugal-compliance](https://docs.novadx.eu/portugal-compliance)\n- **Suporte**: [support@novadx.eu](mailto:support@novadx.eu)\n- **Workspace**: Aceda ao workspace 'Portugal Compliance' para gest√£o di√°ria\n\n**O seu ERPNext est√° agora 100% conforme a legisla√ß√£o portuguesa!** üáµüáπ"
    }
  ],
  "subtitle": "Configure o ERPNext para compliance fiscal portugu√™s em poucos minutos",
  "success_message": "üéâ **Portugal Compliance configurado com sucesso!**\n\nO seu ERPNext est√° agora totalmente conforme a legisla√ß√£o portuguesa. Pode come√ßar a emitir documentos fiscais com ATCUD autom√°tico.\n\n**Aceda ao workspace 'Portugal Compliance' para gest√£o di√°ria.**",
  "title": "Portugal Compliance Setup"
}
